"use strict";/* Math (c) Robby Kraft, MIT License */require("core-js/modules/es6.array.sort"),require("core-js/modules/es6.regexp.to-string"),require("core-js/modules/web.dom.iterable"),require("core-js/modules/es7.symbol.async-iterator"),require("core-js/modules/es6.symbol"),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.math={})}(void 0,function(e){'use strict';var m=Math.PI,u=Math.abs,v=Math.sin,P=Math.cos,x=Math.atan2,j=Math.sqrt,E=Math.pow;function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e,t){return o(e)||a(e,t)||g()}function i(e){return r(e)||l(e)||p()}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function o(e){if(Array.isArray(e))return e}function l(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function a(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var l,a=e[Symbol.iterator]();!(i=(l=a.next()).done)&&(n.push(l.value),!(t&&n.length===t));i=!0);}catch(e){r=!0,o=e}finally{try{i||null==a["return"]||a["return"]()}finally{if(r)throw o}}return n}function p(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function g(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function c(){var e=Array.from(arguments).filter(function(e){return null!=e}),t=e.filter(function(e){return!isNaN(e)}),n=e.filter(function(e){return e.constructor===Array});return 0===e.length?void 0:!isNaN(e[0])&&4<=t.length?[[e[0],e[1]],[e[2],e[3]]]:0<n.length?2===n.length?[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]:4===n.length?[[n[0],n[1]],[n[2],n[3]]]:c.apply(void 0,i(n[0])):e[0].constructor===Object&&0<e[0].points.length?e[0].points:void 0}function d(){var e=Array.from(arguments),t=e.filter(function(e){return!isNaN(e)}),n=e.filter(function(e){return e.constructor===Array});if(0==e.length)return{vector:[],point:[]};if(!isNaN(e[0])&&4<=t.length)return{point:[e[0],e[1]],vector:[e[2],e[3]]};if(0<n.length){if(1===n.length)return d.apply(void 0,i(n[0]));if(2===n.length)return{point:[n[0][0],n[0][1]],vector:[n[1][0],n[1][1]]};if(4===n.length)return{point:[n[0],n[1]],vector:[n[2],n[3]]}}if(e[0].constructor===Object){var r=[],o=[];return null==e[0].vector?null!=e[0].direction&&(r=Te(e[0].direction)):r=Te(e[0].vector),null==e[0].point?null!=e[0].origin&&(o=Te(e[0].origin)):o=Te(e[0].point),{point:o,vector:r}}return{point:[],vector:[]}}function y(){return d.apply(void 0,arguments)}function _(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0!==t.length){if(1===t.length&&void 0!==t[0])return _.apply(void 0,i(t[0]));var r=Array.from(t),o=r.filter(function(e){return!isNaN(e)}),l=r.filter(function(e){return e.constructor===Array});return 4<=o.length?[[o[0],o[1]],[o[2],o[3]]]:2<=l.length&&!isNaN(l[0][0])?l:1!==l.length||isNaN(l[0][0][0])?void 0:l[0]}}function h(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?void 0:1===t.length&&void 0!==t[0]?h.apply(void 0,i(t[0])):Array.from(t)}function s(e,t){var n=null==t?{}:t,i=function(e){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:H;return this.compare_function(e,t)&&!0},r=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:H;return this.compare_function(e,n)&&t>=-n},o=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:H;return this.compare_function(e,n)&&t>=-n&&t<=1+n};return Object.defineProperty(n,"isParallel",{value:function(e,t){if(null==e.vector)throw"line isParallel(): please ensure object contains a vector";var n=this.vector.length<e.vector.length,i=n?this.vector:e.vector,r=n?e.vector:this.vector;return U(i,r,t)}}),Object.defineProperty(n,"isDegenerate",{value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:H;return B(this.vector,e)}}),Object.defineProperty(n,"nearestPoint",{value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=Te(t);return Je(Re(this.point,this.vector,i,this.clip_function))}}),Object.defineProperty(n,"reflection",{value:function(){return Be.makeReflection(this.vector,this.point)}}),Object.defineProperty(n,"intersect",{value:function(e){var t=this;return he(this.point,this.vector,e.point,e.vector,function(n,i){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:H;return t.compare_function(n,r)&&e.compare_function(i,r)})}}),Object.defineProperty(n,"intersectLine",{value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=d(t);return he(this.point,this.vector,r.point,r.vector,i.bind(this))}}),Object.defineProperty(n,"intersectRay",{value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=y(t);return he(this.point,this.vector,i.point,i.vector,r.bind(this))}}),Object.defineProperty(n,"intersectEdge",{value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=c(t),r=[i[1][0]-i[0][0],i[1][1]-i[0][1]];return he(this.point,this.vector,i[0],r,o.bind(this))}}),Object.freeze(n)}function f(e){var t={},n=e,i=function(){return Ze(this.points)},r=function(){return this.points.map(function(e,t,n){return[n[(t+n.length-1)%n.length],n[t],n[(t+1)%n.length]]}).map(function(e){return Xe(e[1],e[2],e[0])})};return Object.defineProperty(t,"area",{value:i}),Object.defineProperty(t,"centroid",{value:function(){return qe(this.points)}}),Object.defineProperty(t,"midpoint",{value:function(){return I(this.points)}}),Object.defineProperty(t,"enclosingRectangle",{value:function(){return Se(this.points)}}),Object.defineProperty(t,"contains",{value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return X(Te(t),this.points)}}),Object.defineProperty(t,"nearest",{value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o=Te(t),l=this.sides.map(function(e){return e.nearestPoint(o)}),a=1/0;return l.map(function(e){return A(o,e)}).forEach(function(e,t){e<a&&(a=e,r=t)}),{point:l[r],edge:this.sides[r]}}}),Object.defineProperty(t,"clipEdge",{value:function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=c(n),o=Ee(this.points,r[0],r[1]);return void 0===o?void 0:We(o)}}),Object.defineProperty(t,"clipLine",{value:function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=d(n),o=be(this.points,r.point,r.vector);return void 0===o?void 0:We(o)}}),Object.defineProperty(t,"clipRay",{value:function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=d(n),o=je(this.points,r.point,r.vector);return void 0===o?void 0:We(o)}}),Object.defineProperty(t,"split",{value:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=d(t);return Oe(this.points,r.point,r.vector).map(function(e){return n(e)})}}),Object.defineProperty(t,"scale",{value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:qe(this.points),i=this.points.map(function(e){return[0,1].map(function(n,r){return e[r]-t[r]})}).map(function(n){return n.map(function(r,o){return t[o]+n[o]*e})});return n(i)}}),Object.defineProperty(t,"rotate",{value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:qe(this.points),i=this.points.map(function(n){var i=[n[0]-t[0],n[1]-t[1]],r=j(E(i[0],2)+E(i[1],2)),o=x(i[1],i[0]);return[t[0]+P(o+e)*r,t[1]+v(o+e)*r]});return n(i)}}),Object.defineProperty(t,"translate",{value:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=Te(t),o=this.points.map(function(e){return e.map(function(e,t){return e+r[t]})});return n(o)}}),Object.defineProperty(t,"transform",{value:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=De(t),o=this.points.map(function(e){return Je(q(e,r))});return n(o)}}),Object.defineProperty(t,"edges",{get:function(){return this.sides}}),Object.defineProperty(t,"sectors",{get:function(){return r()}}),Object.defineProperty(t,"signedArea",{value:i}),Object.freeze(t)}var w=function(e){var t=e.map(function(e){return e*e}).reduce(function(e,t){return e+t},0);return j(t)},z=function(e){var t=w(e);return e.map(function(e){return e/t})},R=function(e,t){return e.map(function(n,r){return e[r]*t[r]}).reduce(function(e,t){return e+t},0)},I=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=0<t.length?t[0].length:0,r=Array(i).fill(0);return t.forEach(function(e){return r.forEach(function(t,n){r[n]+=e[n]||0})}),r.map(function(e){return e/t.length})},L=function(e,t){return[e[1]*t[2]-e[2]*t[1],e[0]*t[2]-e[2]*t[0],e[0]*t[1]-e[1]*t[0]]},A=function(e,t){var n=e[0]-t[0],i=e[1]-t[1];return j(E(n,2)+E(i,2))},Z=function(e,t){return e.map(function(n,r){return(e[r]+t[r])/2})},q=function(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]},S=function(e,t,n){var r=q(e,n),o=t.map(function(n,r){return t[r]+e[r]}),l=q(o,n).map(function(e,t){return e-r[t]});return[r,l]},O=function(e,t){var n=e[0]*t[0]+e[2]*t[1],i=e[0]*t[2]+e[2]*t[3],r=e[0]*t[4]+e[2]*t[5]+e[4],o=e[1]*t[0]+e[3]*t[1],l=e[1]*t[2]+e[3]*t[3],a=e[1]*t[4]+e[3]*t[5]+e[5];return[n,o,i,l,r,a]},M=function(e,t){var n=x(e[1],e[0]),i=P(n),r=v(n),o=P(-n),l=v(-n),p=i*o+r*l,a=i*-l+r*o,g=r*o+-i*l,c=r*-l+-i*o,d=t[0]+p*-t[0]+-t[1]*g,y=t[1]+a*-t[0]+-t[1]*c;return[p,a,g,c,d,y]},C=function(e,t){var n=P(e),i=v(e),r=-v(e),o=P(e),l=null==t?0:t[0],a=null==t?0:t[1];return[n,i,r,o,l,a]},V=function(e){var t=e[0]*e[3]-e[1]*e[2];return t&&!isNaN(t)&&isFinite(e[4])&&isFinite(e[5])?[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[3]*e[4])/t,(e[1]*e[4]-e[0]*e[5])/t]:void 0},T=/*#__PURE__*/Object.freeze({magnitude:w,normalize:z,dot:R,average:I,cross2:function(e,t){return[e[0]*t[1],e[1]*t[0]]},cross3:L,distance2:A,distance3:function(t,n){var i=t[0]-n[0],r=t[1]-n[1],o=t[2]-n[2];return j(E(i,2)+E(r,2)+E(o,2))},midpoint2:Z,multiply_vector2_matrix2:q,multiply_line_matrix2:S,multiply_matrices2:O,make_matrix2_reflection:M,make_matrix2_rotation:C,make_matrix2_inverse:V}),H=1e-6,D=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:15;return null==e?void 0:parseFloat(e.toFixed(t))},F=function(e,t,n,i,r){var o=function(e,t){return e[0]*t[1]-t[0]*e[1]},l=o(t,i),a=o([n[0]-e[0],n[1]-e[1]],i),p=o([e[0]-n[0],e[1]-n[1]],t);if(u(l)<H)return!1;return r(a/l,p/-l)},N=function(e,t){return e>=-H&&e<=1+H&&t>=-H&&t<=1+H},J=function(e,t,n,i){var r=[t[0]-e[0],t[1]-e[1]],o=[i[0]-n[0],i[1]-n[1]];return F(e,r,n,o,N)},B=function(e){return u(e.reduce(function(e,t){return e+t},0))<H},U=function(e,t){return 1-u(R(z(e),z(t)))<H},K=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1>t.length)return!1;var i=t[0].length;if(t[0].constructor===Array){var r=Array.from(Array(i));return Array.from(Array(t.length-1)).map(function(e,n){return r.map(function(e,i){return u(t[n][i]-t[n+1][i])<H}).reduce(function(e,t){return e&&t},!0)}).reduce(function(e,t){return e&&t},!0)&&Array.from(Array(t.length-1)).map(function(e,n){return t[0].length===t[n+1].length}).reduce(function(e,t){return e&&t},!0)}return"number"==typeof t[0]?Array.from(Array(t.length-1)).map(function(e,n){return u(t[0]-t[n+1])<H}).reduce(function(e,t){return e&&t},!0):"boolean"==typeof t[0]&&Array.from(Array(t.length-1)).map(function(e,n){return t[0]===t[n+1]}).reduce(function(e,t){return e&&t},!0)},W=function(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:H,r=[n[0]-e[0],n[1]-e[1]],o=r[0]*t[1]-r[1]*t[0];return u(o)<i},X=function(e,t){for(var n=!1,r=0,o=t.length-1;r<t.length;o=r++)t[r][1]>e[1]!=t[o][1]>e[1]&&e[0]<(t[o][0]-t[r][0])*(e[1]-t[r][1])/(t[o][1]-t[r][1])+t[r][0]&&(n=!n);return n},Y=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:H;return!!(null!=t&&0<t.length)&&t.map(function(t,r,i){var o=i[(r+1)%i.length],l=[o[0]-t[0],o[1]-t[1]],a=[e[0]-t[0],e[1]-t[1]];return l[0]*a[1]-l[1]*a[0]>-n}).map(function(e,t,n){return e===n[0]}).reduce(function(e,t){return e&&t},!0)},G=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:H;return!!(null!=t&&0<t.length)&&t.map(function(t,r,i){var o=i[(r+1)%i.length],l=[o[0]-t[0],o[1]-t[1]],a=[e[0]-t[0],e[1]-t[1]];return l[0]*a[1]-l[1]*a[0]>n}).map(function(e,t,n){return e===n[0]}).reduce(function(e,t){return e&&t},!0)},$=function(e,t){for(var n=e.map(function(e,t,n){return[e,n[(t+1)%n.length]]}),r=t.map(function(e,t,n){return[e,n[(t+1)%n.length]]}),o=0;o<n.length;o+=1)for(var l=0;l<r.length;l+=1)if(J(n[o][0],n[o][1],r[l][0],r[l][1]))return!0;return!!X(t[0],e)||!!X(e[0],t)},Q=/*#__PURE__*/Object.freeze({is_number:function(e){return null!=e&&!isNaN(e)},is_vector:function(e){return null!=e&&null!=e[0]&&!isNaN(e[0])},overlap_function:F,edge_edge_overlap:J,degenerate:B,parallel:U,equivalent_numbers:function e(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return 0!==n.length&&(1===n.length&&void 0!==n[0]?e.apply(void 0,i(n[0])):Array.from(Array(n.length-1)).map(function(e,t){return u(n[0]-n[t+1])<H}).reduce(function(e,t){return e&&t},!0))},equivalent:K,point_on_line:W,point_on_edge:function(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:H,r=[e[0]-t[0],e[1]-t[1]],o=[e[0]-n[0],e[1]-n[1]],l=[t[0]-n[0],t[1]-n[1]],a=j(r[0]*r[0]+r[1]*r[1]),p=j(o[0]*o[0]+o[1]*o[1]),g=j(l[0]*l[0]+l[1]*l[1]);return u(a-p-g)<i},point_in_poly:X,point_in_convex_poly:Y,point_in_convex_poly_exclusive:G,convex_polygons_overlap:$,convex_polygon_is_enclosed:function(e,t){var n=t.map(function(t){return Y(t,e)}).reduce(function(e,t){return e||t},!1);return!n&&void 0},convex_polygons_enclose:function(e,t){var n=t.map(function(t){return Y(t,e)}).reduce(function(e,t){return e||t},!1),i=e.map(function(t){return Y(t,e)}).reduce(function(e,t){return e&&t},!0);return!n&&i}}),ee=function(){return!0},te=function(e,t){return t>=-H},ne=function(e,t){return t>=-H&&t<=1+H},ie=function(e,t){return e>=-H&&t>=-H},re=function(e,t){return e>=-H&&t>=-H&&t<=1+H},oe=function(e,t){return e>=-H&&e<=1+H&&t>=-H&&t<=1+H},le=function(e,t){return t>H},ae=function(e,t){return t>H&&t<1-H},pe=function(e,t){return e>H&&t>H},ge=function(e,t){return e>H&&t>H&&t<1-H},ce=function(e,t){return e>H&&e<1-H&&t>H&&t<1-H},de=function(e){return e},ye=function(e){return e<-H?0:e},_e=function(e){return e<-H?0:e>1+H?1:e},he=function(e,t,n,i,r){function o(e,t){return e[0]*t[1]-t[0]*e[1]}var l=5<arguments.length&&arguments[5]!==void 0?arguments[5]:H,a=o(t,i);if(!(u(a)<l)){var p=o([n[0]-e[0],n[1]-e[1]],i),g=o([e[0]-n[0],e[1]-n[1]],t),c=p/a;return r(c,g/-a,l)?[e[0]+t[0]*c,e[1]+t[1]*c]:void 0}},se=function(e,t,n,i,r){var o=[i[0]-n[0],i[1]-n[1]];return he(e,t,n,o,ne,r)},fe=function(e,t,n,i,r){var o=[i[0]-n[0],i[1]-n[1]];return he(e,t,n,o,re,r)},me=function(e,t,n,i,r){var o=[i[0]-n[0],i[1]-n[1]];return he(e,t,n,o,ae,r)},ue=function(e,t,n,i,r){var o=[t[0]-e[0],t[1]-e[1]],l=[i[0]-n[0],i[1]-n[1]];return he(e,o,n,l,ce,r)},ve=function(e,t,n,i){function r(e){return e<-o?-1:1}var o=4<arguments.length&&arguments[4]!==void 0?arguments[4]:H,l=n[0]-e[0],a=n[1]-e[1],p=i[0]-e[0],g=i[1]-e[1],c=p-l,d=g-a,y=l*g-p*a,_=y*y,h=t*t,s=u(c*c+d*d),f=h*s-_;if(!(f<-o)){var m=j(h*s-_),v=[e[0]+(y*d+r(d)*c*m)/s,e[1]+(-y*c+u(d)*m)/s];if(f>o){var k=[e[0]+(y*d-r(d)*c*m)/s,e[1]+(-y*c-u(d)*m)/s];return[v,k]}return[v]}},ke=function(){throw"circle_ray has not been written yet"},Pe=function(e,t,n,i){function r(e){return 0>e?-1:1}var o=E(t,2),l=n[0]-e[0],a=n[1]-e[1],p=i[0]-e[0],g=i[1]-e[1],c=p-l,d=g-a,y=c*c+d*d,_=l*g-p*a,h=(_*d+r(d)*c*j(o*y-_*_))/y,s=(_*d-r(d)*c*j(o*y-_*_))/y,f=(-_*c+u(d)*j(o*y-_*_))/y,m=(-_*c-u(d)*j(o*y-_*_))/y,v=isNaN(h),k=isNaN(s);return v||k?v&&k?void 0:v?k?void 0:[[s+e[0],m+e[1]]]:[[h+e[0],f+e[1]]]:[[h+e[0],f+e[1]],[s+e[0],m+e[1]]]},xe=function(e,t){return u(e[0]-t[0])<H&&u(e[1]-t[1])<H},be=function(e,t,n){var r=e.map(function(e,t,n){return[e,n[(t+1)%n.length]]}).map(function(e){return se(t,n,e[0],e[1])}).filter(function(e){return null!=e});switch(r.length){case 0:return;case 1:return[r[0],r[0]];case 2:return r;default:for(var o=1;o<r.length;o+=1)if(!xe(r[0],r[o]))return[r[0],r[o]];}},je=function(e,t,n){var r=e.map(function(e,t,n){return[e,n[(t+1)%n.length]]}).map(function(e){return fe(t,n,e[0],e[1])}).filter(function(e){return null!=e});switch(r.length){case 0:return;case 1:return[t,r[0]];case 2:return r;default:for(var o=1;o<r.length;o+=1)if(!xe(r[0],r[o]))return[r[0],r[o]];}},Ee=function(e,t,n){var r=e.map(function(e,t,n){return[e,n[(t+1)%n.length]]}).map(function(e){return ue(t,n,e[0],e[1])}).filter(function(e){return null!=e}),o=G(t,e),l=G(n,e),a=Y(t,e),p=Y(n,e);if(0===r.length&&(o||l))return[t,n];if(0===r.length&&a&&p)return[t,n];switch(r.length){case 0:return o?[i(t),i(n)]:void 0;case 1:return a?[i(t),r[0]]:[i(n),r[0]];case 2:return r;default:throw"clipping edge in a convex polygon resulting in 3 or more points";}},we=/*#__PURE__*/Object.freeze({limit_line:de,limit_ray:ye,limit_edge:_e,intersection_function:he,line_line:function(e,t,n,i,r){return he(e,t,n,i,ee,r)},line_ray:function(e,t,n,i,r){return he(e,t,n,i,te,r)},line_edge:se,ray_ray:function(e,t,n,i,r){return he(e,t,n,i,ie,r)},ray_edge:fe,edge_edge:function(e,t,n,i,r){var o=[t[0]-e[0],t[1]-e[1]],l=[i[0]-n[0],i[1]-n[1]];return he(e,o,n,l,oe,r)},line_ray_exclusive:function(e,t,n,i,r){return he(e,t,n,i,le,r)},line_edge_exclusive:me,ray_ray_exclusive:function(e,t,n,i,r){return he(e,t,n,i,pe,r)},ray_edge_exclusive:function(e,t,n,i,r){var o=[i[0]-n[0],i[1]-n[1]];return he(e,t,n,o,ge,r)},edge_edge_exclusive:ue,circle_line:ve,circle_ray:ke,circle_edge:Pe,convex_poly_line:be,convex_poly_ray:je,convex_poly_edge:Ee}),ze=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,o=.5*(2*m/e),l=i/P(o);return Array.from(Array(Math.floor(e))).map(function(r,p){var i=-2*m*p/e+o,a=D(t+l*v(i),14),g=D(n+l*P(i),14);return[a,g]})},Re=function(e,t,n,i){var r=4<arguments.length&&arguments[4]!==void 0?arguments[4]:H,o=E(t[0],2)+E(t[1],2),l=[0,1].map(function(t,r){return n[r]-e[r]}),a=[0,1].map(function(t,r){return n[r]-e[r]}),p=[0,1].map(function(e,n){return t[n]*l[n]}).reduce(function(e,t){return e+t},0),g=i(p/o,r);return[0,1].map(function(n,r){return e[r]+t[r]*g})},Ie=function(e,t){var n=t[0]*e[0]+t[1]*e[1],i=t[0]*e[1]-t[1]*e[0],r=x(i,n);return 0>r&&(r+=2*m),r},Le=function(e,t){var n=e[0]*t[0]+e[1]*t[1],i=e[0]*t[1]-e[1]*t[0],r=x(i,n);return 0>r&&(r+=2*m),r},Ae=function(e,t){var n=z(e),r=z(t),i=n.map(function(e,t){return n[t]+r[t]}),o=z(i),l=n.map(function(e,t){return-n[t]+-r[t]});return[o,z(l)]},Ze=function(e){return .5*e.map(function(e,t,n){var i=n[(t+1)%n.length];return e[0]*i[1]-i[0]*e[1]}).reduce(function(e,t){return e+t},0)},qe=function(e){var t=1/(6*Ze(e));return e.map(function(e,t,n){var i=n[(t+1)%n.length],r=e[0]*i[1]-i[0]*e[1];return[(e[0]+i[0])*r,(e[1]+i[1])*r]}).reduce(function(e,t){return[e[0]+t[0],e[1]+t[1]]},[0,0]).map(function(e){return e*t})},Se=function(e){var t=e[0].length,n=Array.from(Array(t)).map(function(){return 1/0}),r=Array.from(Array(t)).map(function(){return-Infinity});e.forEach(function(e){return e.forEach(function(e,t){e<n[t]&&(n[t]=e),e>r[t]&&(r[t]=e)})});var o=r.map(function(e,t){return e-n[t]});return[n,o]},Oe=function(e,t,n){var i=e.map(function(e,r){var i=W(t,n,e);return{type:"v",point:i?e:null,at_index:r}}).filter(function(e){return null!=e.point}),r=e.map(function(e,r,i){var o=me(t,n,e,i[(r+1)%i.length]);return{type:"e",point:o,at_index:r}}).filter(function(e){return null!=e.point}),o=i.concat(r).sort(function(e,t){return u(e.point[0]-t.point[0])<H?e.point[1]-t.point[1]:e.point[0]-t.point[0]});return console.log(o),e},Me=function(e,t,n){var i=e.map(function(e,r){var i=W(t,n,e);return{point:i?e:null,at_index:r}}).filter(function(e){return null!=e.point}),r=e.map(function(e,r,i){var o=me(t,n,e,i[(r+1)%i.length]);return{point:o,at_index:r}}).filter(function(e){return null!=e.point});if(2==r.length){var o=r.slice().sort(function(e,t){return e.at_index-t.at_index}),l=e.slice(o[1].at_index+1).concat(e.slice(0,o[0].at_index+1));l.push(o[0].point),l.push(o[1].point);var a=e.slice(o[0].at_index+1,o[1].at_index+1);return a.push(o[1].point),a.push(o[0].point),[l,a]}if(1==r.length&&1==i.length){i[0].type="v",r[0].type="e";var p=i.concat(r).sort(function(e,t){return e.at_index-t.at_index}),g=e.slice(p[1].at_index+1).concat(e.slice(0,p[0].at_index+1));"e"===p[0].type&&g.push(p[0].point),g.push(p[1].point);var c=e.slice(p[0].at_index+1,p[1].at_index+1);return"e"===p[1].type&&c.push(p[1].point),c.push(p[0].point),[g,c]}if(2==i.length){var d=i.slice().sort(function(e,t){return e.at_index-t.at_index}),y=e.slice(d[1].at_index).concat(e.slice(0,d[0].at_index+1)),_=e.slice(d[0].at_index,d[1].at_index+1);return[y,_]}return[e.slice()]},Ce=function(e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:H,i=e.slice().sort(function(e,t){return u(e[1]-t[1])<n?e[0]-t[0]:e[1]-t[1]}),r=[];r.push(i[0]);var o=0,l=0,a=function(){l+=1;var e=r.length-1,t=i.filter(function(t){return!(u(t[0]-r[e][0])<n&&u(t[1]-r[e][1])<n)}).map(function(t){for(var n=x(r[e][1]-t[1],r[e][0]-t[0]);n<o;)n+=2*m;return{node:t,angle:n,distance:void 0}}).sort(function(e,t){return e.angle<t.angle?-1:e.angle>t.angle?1:0});if(0===t.length)return{v:void 0};var a=t[0];return t=t.filter(function(e){return u(a.angle-e.angle)<n}).map(function(t){var n=j(E(r[e][0]-t.node[0],2)+E(r[e][1]-t.node[1],2));return t.distance=n,t}).sort(function(e,t){return e.distance<t.distance?1:e.distance>t.distance?-1:0}),0<r.filter(function(e){return e===t[0].node}).length?{v:r}:void(r.push(t[0].node),o=x(r[e][1]-t[0].node[1],r[e][0]-t[0].node[0]))};do{var p=a();if("object"===t(p))return p.v}while(l<1e4)},Ve=/*#__PURE__*/Object.freeze({make_regular_polygon:ze,nearest_point:Re,clockwise_angle2_radians:function(e,t){for(;0>e;)e+=2*m;for(;0>t;)t+=2*m;var n=e-t;return 0<=n?n:2*m-(t-e)},counter_clockwise_angle2_radians:function(e,t){for(;0>e;)e+=2*m;for(;0>t;)t+=2*m;var n=t-e;return 0<=n?n:2*m-(e-t)},clockwise_angle2:Ie,counter_clockwise_angle2:Le,interior_angles2:function(e,t){var n=Ie(e,t),i=2*m-n;return n<i?[n,i]:[i,n]},bisect_vectors:Ae,bisect_lines2:function(e,n,i,r){var o=n[0]*r[1]-r[0]*n[1];if(u(o)<H){var l=[Z(e,i),[n[0],n[1]]],a=[l,l],p=n[0]*r[0]+n[1]*r[1];return delete(0<p?a[1]:a[0]),a}var g=(i[0]-e[0])*r[1]-r[0]*(i[1]-e[1]),c=g/o,t=e[0]+n[0]*c,d=e[1]+n[1]*c,y=Ae(n,r);return y[1]=[y[1][1],-y[1][0]],y.map(function(e){return[[t,d],e]})},signed_area:Ze,centroid:qe,enclosing_rectangle:Se,split_polygon:Oe,split_convex_polygon:Me,convex_hull:Ce}),Te=function e(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return 0===n.length?void 0:1===n.length&&void 0!==n[0]?e.apply(void 0,i(n[0])):"number"==typeof n[0]?Array.from(n):void 0===n[0].vector?isNaN(n[0].x)?e.apply(void 0,i(n[0])):["x","y","z"].map(function(e){return n[0][e]}).filter(function(e){return null!=e}):e(n[0].vector)},He=[1,0,0,1,0,0],De=function e(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];if(0!==n.length){if(1===n.length&&void 0!==n[0])return e.apply(void 0,i(n[0]));if("number"==typeof n[0]){var o=Array.from(n);if(6===o.length)return o;if(4===o.length)return o.push(0),o.push(0),o;if(9===o.length)return[o[0],o[1],o[3],o[4],0,0];for(var l=matrix.slice(0,6);6>l.length;)l.push(He[l.length])}}},Fe=/*#__PURE__*/Object.freeze({get_vector:Te,get_matrix2:De,get_edge:c,get_line:d,get_ray:y,get_two_vec2:_,get_array_of_vec:h,get_array_of_vec2:function(){var e=Array.from(arguments),t=e.filter(function(e){return e.constructor===Array});return 2<=t.length&&!isNaN(t[0][0])?t:1===t.length&&1<=t[0].length?t[0]:e}}),Ne=function(e){var t,n=[],r=e,o=function(){return r(z(t))},l=function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=Te(n);return this.length>r.length?R(r,t):R(t,r)},a=function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];var o=Te(n),l=t.slice();return null==l[2]&&(l[2]=0),null==o[2]&&(o[2]=0),r(L(l,o))},p=function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=Te(n),o=t.length<r.length?t.length:r.length,l=Array.from(Array(o)).map(function(e,n){return E(t[n]-r[n],2)}).reduce(function(e,t){return e+t},0);return j(l)},g=function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];var o=De(n);return r(q(t,o))},c=function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];var o=Te(n);return r(t.map(function(e,t){return e+o[t]}))},y=function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];var o=Te(n);return r(t.map(function(e,t){return e-o[t]}))},_=function(e,n){var i=C(e,n);return r(q(t,i))},h=function(){return r(-t[1],t[0])},s=function(){return r(-t[0],-t[1])},f=function(){return r(t[1],-t[0])},m=function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];var o=d(n),l=M(o.vector,o.point);return r(q(t,l))},u=function(e,n){var o=Te(e),l=t.length<o.length?t.length:o.length,a=Array.from(Array(l)).map(function(e,r){return t[r]*n+o[r]*(1-n)});return r(a)},v=function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=Te(n),o=t.length<r.length?t:r,l=t.length<r.length?r:t;return K(o,l)},k=function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=Te(n),o=t.length<r.length?t:r,l=t.length<r.length?r:t;return U(o,l)},P=function(e){return r(t.map(function(t){return t*e}))},x=function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];for(var l=Te(n),a=t.length<l.length?t.slice():l,p=t.length<l.length?l:t.slice(),g=a.length;g<p.length;g+=1)a[g]=0;return r(p.map(function(e,t){return .5*(a[t]+p[t])}))},b=function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];var o=Te(n);return Ae(t,o).map(function(e){return r(e)})};return Object.defineProperty(n,"normalize",{value:o}),Object.defineProperty(n,"dot",{value:l}),Object.defineProperty(n,"cross",{value:a}),Object.defineProperty(n,"distanceTo",{value:p}),Object.defineProperty(n,"transform",{value:g}),Object.defineProperty(n,"add",{value:c}),Object.defineProperty(n,"subtract",{value:y}),Object.defineProperty(n,"rotateZ",{value:_}),Object.defineProperty(n,"rotateZ90",{value:h}),Object.defineProperty(n,"rotateZ180",{value:s}),Object.defineProperty(n,"rotateZ270",{value:f}),Object.defineProperty(n,"reflect",{value:m}),Object.defineProperty(n,"lerp",{value:u}),Object.defineProperty(n,"isEquivalent",{value:v}),Object.defineProperty(n,"isParallel",{value:k}),Object.defineProperty(n,"scale",{value:P}),Object.defineProperty(n,"midpoint",{value:x}),Object.defineProperty(n,"bisect",{value:b}),Object.defineProperty(n,"copy",{value:function(){return r.apply(void 0,i(t))}}),Object.defineProperty(n,"magnitude",{get:function(){return w(t)}}),Object.defineProperty(n,"bind",{value:function(e){t=e}}),n},Je=function e(){var t=Ne(e),n=Object.create(t);t.bind(n);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return Te(r).forEach(function(e){return n.push(e)}),Object.defineProperty(n,"x",{get:function(){return n[0]}}),Object.defineProperty(n,"y",{get:function(){return n[1]}}),Object.defineProperty(n,"z",{get:function(){return n[2]}}),n},Be=function e(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=De(n);return{inverse:function(){return e(V(r).map(function(e){return D(e)}))},multiply:function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];var o=De(n);return e(O(r,o).map(function(e){return D(e)}))},transform:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=Te(t);return Je(q(i,r).map(function(e){return D(e)}))},get m(){return r}}};Be.makeIdentity=function(){return Be(1,0,0,1,0,0)},Be.makeTranslation=function(e,t){return Be(1,0,0,1,e,t)},Be.makeRotation=function(e,t){return Be(C(e,t).map(function(e){return D(e,13)}))},Be.makeReflection=function(e,t){return Be(M(e,t).map(function(e){return D(e,13)}))};var Ue=function e(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=d(n),o=r.point,l=r.vector,a=s.bind(this),p=Object.create(a(e));return Object.defineProperty(p,"compare_function",{value:function(){return!0}}),Object.defineProperty(p,"clip_function",{value:de}),Object.defineProperty(p,"point",{get:function(){return Je(o)}}),Object.defineProperty(p,"vector",{get:function(){return Je(l)}}),Object.defineProperty(p,"length",{get:function(){return 1/0}}),Object.defineProperty(p,"transform",{value:function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=De(n),a=S(o,l,r);return e(a[0],a[1])}}),p};Ue.fromPoints=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=_(t);return Ue({point:i[0],vector:z([i[1][0]-i[0][0],i[1][1]-i[0][1]])})},Ue.perpendicularBisector=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=_(t),r=z([i[1][0]-i[0][0],i[1][1]-i[0][1]]);return Ue({point:I(i[0],i[1]),vector:[r[1],-r[0]]})};var Ke=function e(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=d(n),o=r.point,l=r.vector,a=s.bind(this),p=Object.create(a(e));return Object.defineProperty(p,"point",{get:function(){return Je(o)}}),Object.defineProperty(p,"vector",{get:function(){return Je(l)}}),Object.defineProperty(p,"length",{get:function(){return 1/0}}),Object.defineProperty(p,"transform",{value:function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=De(n),a=q(o,r),p=l.map(function(e,t){return e+o[t]}),g=q(p,r).map(function(e,t){return e-a[t]});return e(a,g)}}),Object.defineProperty(p,"rotate180",{value:function(){return e(o[0],o[1],-l[0],-l[1])}}),Object.defineProperty(p,"compare_function",{value:function(e,t){return e>=-t}}),Object.defineProperty(p,"clip_function",{value:ye}),p};Ke.fromPoints=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=_(t);return Ke({point:i[0],vector:z([i[1][0]-i[0][0],i[1][1]-i[0][1]])})};var We=function e(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=_(n),o=s.bind(this),l=Object.create(o(e,[])),a=0<r.length?r.map(function(e){return Je(e)}):void 0;if(void 0!==a){a.forEach(function(e,t){l[t]=e});var p=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=De(n),o=l.map(function(e){return q(e,r)});return e(o)},g=function(){return Je(l[1][0]-l[0][0],l[1][1]-l[0][1])},c=function(){return Je(I(l[0],l[1]))},d=function(){return j(E(l[1][0]-l[0][0],2)+E(l[1][1]-l[0][1],2))},y=function(e,t){return e>=-t&&e<=1+t};return Object.defineProperty(l,"point",{get:function(){return l[0]}}),Object.defineProperty(l,"vector",{get:function(){return g()}}),Object.defineProperty(l,"midpoint",{value:c}),Object.defineProperty(l,"length",{get:function(){return d()}}),Object.defineProperty(l,"transform",{value:p}),Object.defineProperty(l,"compare_function",{value:y}),Object.defineProperty(l,"clip_function",{value:_e}),l}},Xe=function(e,t,n){var r=Te(e),o=[t,n],l=o.map(function(e){return e.map(function(t,n){return e[n]-r[n]})}),a=Le(l[0],l[1]);return{contains:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=Te(t),l=(i[1]-o[0][1])*(r[0]-o[0][0])-(i[0]-o[0][0])*(r[1]-o[0][1]),a=(i[1]-r[1])*(o[1][0]-r[0])-(i[0]-r[0])*(o[1][1]-r[1]);return 0>l&&0>a},bisect:function(){var e=l.map(function(e){return x(e[1],e[0])}),t=e[0]+.5*a;return Ke(r[0],r[1],P(t),v(t))},get center(){return r},get points(){return o},get vectors(){return l},get angle(){return a}}},Ye=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=h(t).map(function(e){return Je(e)});if(void 0!==i){var r=i.map(function(e,t,n){return[e,n[(t+1)%n.length]]}).map(function(e){return We(e[0][0],e[0][1],e[1][0],e[1][1])}),o=f.bind(this),l=Object.create(o());return Object.defineProperty(l,"points",{get:function(){return i}}),Object.defineProperty(l,"sides",{get:function(){return r}}),l}};Ye.regularPolygon=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,r=ze(e,t,n,i);return Ye(r)},Ye.convexHull=function(e){var t=!!(1<arguments.length&&arguments[1]!==void 0)&&arguments[1],n=Ce(e,t);return Ye(n)};var Ge=function e(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=h(n).map(function(e){return Je(e)});if(void 0!==r){var o=r.map(function(e,t,n){return[e,n[(t+1)%n.length]]}).map(function(e){return We(e[0][0],e[0][1],e[1][0],e[1][1])}),l=f.bind(this),a=Object.create(l(e)),p=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];var o=d(n);return Me(r,o.point,o.vector).map(function(t){return e(t)})},g=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=h(t);return $(r,i)},c=function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:qe(a.points),i=a.points.map(function(e){return[0,1].map(function(t,r){return e[r]-n[r]})}).map(function(e){return e.map(function(r,o){return n[o]+e[o]*t})});return e(i)},y=function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:qe(a.points),i=a.points.map(function(e){var i=[e[0]-n[0],e[1]-n[1]],r=j(E(i[0],2)+E(i[1],2)),o=x(i[1],i[0]);return[n[0]+P(o+t)*r,n[1]+v(o+t)*r]});return e(i)};return Object.defineProperty(a,"points",{get:function(){return r}}),Object.defineProperty(a,"sides",{get:function(){return o}}),Object.defineProperty(a,"split",{value:p}),Object.defineProperty(a,"overlaps",{value:g}),Object.defineProperty(a,"scale",{value:c}),Object.defineProperty(a,"rotate",{value:y}),a}};Ge.regularPolygon=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,r=ze(e,t,n,i);return Ge(r)},Ge.convexHull=function(e){var t=!!(1<arguments.length&&arguments[1]!==void 0)&&arguments[1],n=Ce(e,t);return Ge(n)};var $e=function(e,t){var n=h(t);if(void 0!==n){var r=Te(e),o=n.map(function(t){return t.map(function(n,r){return t[r]-e[r]})}),l=o.map(function(e){return x(e[1],e[0])}),a=Array.from(Array(l.length)).map(function(e,t){return t}).sort(function(e,t){return l[e]-l[t]});a=a.slice(a.indexOf(0),a.length).concat(a.slice(0,a.indexOf(0)));var p=function(){},g=function(){return a.map(function(e,t){return Xe(r,n[a[t]],n[a[(t+1)%a.length]])})},c=function(){var e=g().map(function(e){return e.angle});return[e.filter(function(e,t){return 0==t%2}).reduce(function(e,t){return e+t},0),e.filter(function(e,t){return 1==t%2}).reduce(function(e,t){return e+t},0)]},d=function(e){return[0,1].map(function(t){return e.filter(function(e,n){return n%2===t}).reduce(function(e,t){return e+t},0)}).map(function(e){return m-e})},y=function(){return a.map(function(e,t,n){var i=o[n[t]],r=o[n[(t+1)%n.length]];return Le(i,r)}).map(function(e,t,n){return n.slice(t+1,n.length).concat(n.slice(0,t))}).map(function(e){return d(e)}).map(function(e,t){return null==e?void 0:l[a[t]]+e[0]}).map(function(e){return void 0===e?void 0:[P(e),v(e)]})};return{kawasaki:p,kawasaki_solutions:y,alternatingAngleSum:c,sectors:g,get center(){return r},get points(){return n},get vectors(){return o},get angles(){return l}}}};$e.fromVectors=function(e,t){var n=h(t).map(function(t){return t.map(function(t,n){return t+e[n]})});return $e(e,n)};var Qe=Object.create(null);Object.assign(Qe,T,Ve,Q,Fe),Qe.EPSILON=H,Qe.intersection=we,Qe.clean_number=D,Object.freeze(Qe),e.Vector=Je,e.Circle=function(){for(var e,t,i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];var l=Array.from(r),a=l.filter(function(e){return!isNaN(e)});if(3===a.length){e=Je(a[0],a[1]);var p=n(a,3);t=p[2]}var g=function(){for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=d(i),l=[o.point[0]+o.vector[0],o.point[1]+o.vector[1]],a=ve(e,t,o.point,l);return a===void 0?void 0:a.map(function(e){return Je(e)})},c=function(){for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=y(i),l=ke(e,t,o[0],o[1]);return l===void 0?void 0:l.map(function(e){return Je(e)})},h=function(){for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=_(i),l=Pe(e,t,o[0],o[1]);return l===void 0?void 0:l.map(function(e){return Je(e)})};return{intersectionLine:g,intersectionRay:c,intersectionEdge:h,get origin(){return e},get radius(){return t},set origin(t){e=Je(t)},set radius(e){t=e}}},e.Polygon=Ye,e.ConvexPolygon=Ge,e.Rectangle=function e(){for(var t,i,r,o=arguments.length,l=Array(o),a=0;a<o;a++)l[a]=arguments[a];var p=Array.from(l),g=p.filter(function(e){return!isNaN(e)}),c=p.filter(function(e){return e.constructor===Array});if(4===g.length){t=g.slice(0,2);var d=n(g,4);i=d[2],r=d[3]}1===c.length&&(c=c[0]),2===c.length&&"number"==typeof c[0][0]&&(t=c[0].slice(),i=c[1][0],r=c[1][1]);var y=[[t[0],t[1]],[t[0]+i,t[1]],[t[0]+i,t[1]+r],[t[0],t[1]+r]],_=f.bind(this),h=Object.create(_(e)),s=function(n,o){var l=null==o?[t[0]+i,t[1]+r]:o,a=t[0]+(l[0]-t[0])*(1-n),p=t[1]+(l[1]-t[1])*(1-n);return e(a,p,i*n,r*n)};return Object.defineProperty(h,"origin",{get:function(){return t}}),Object.defineProperty(h,"width",{get:function(){return i}}),Object.defineProperty(h,"height",{get:function(){return r}}),Object.defineProperty(h,"area",{get:function(){return i*r}}),Object.defineProperty(h,"scale",{value:s}),Object.defineProperty(h,"rotate",{value:function(){var e;return(e=Ge(y)).rotate.apply(e,arguments)}}),Object.defineProperty(h,"transform",{value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ge(y).transform(t)}}),h},e.Matrix2=Be,e.Line=Ue,e.Ray=Ke,e.Edge=We,e.Junction=$e,e.Sector=Xe,e.core=Qe,Object.defineProperty(e,"__esModule",{value:!0})});
